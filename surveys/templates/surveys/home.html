{% extends '_layouts/base.html' %}
{% load surveys_tags %}

{% block page_title %} <h2>The Game</h2> {% endblock page_title %}

{% block page_content %} 


    <div class="col-sm-12">
        <h3 style="text-align:center"> NPCs </h3>
            <!-- Add forloop here for each npc -->
        <div class="col-sm-4" id="npc_div0"></div>
        <div class="col-sm-4" id="npc_div1"></div>
        <div class="col-sm-4" id="npc_div2"></div>

    </div>
    <a href="javascript:history.go(0)">
        <button class="btn btn-success" type="button" style="display:block; margin: 4em auto 2em auto">Reload page </button>
    </a>

    <div class="page-header"></div>

    <p></p> 

{% endblock page_content %}


{% block css %}
{% endblock css %}


{% block js %}
    <script>

        function set_npc_list(){
            {% for npc in npc_list %}
                $('<div id="{{ npc.get_name }}" style="padding:1em 1em 1em 1em;">').appendTo('#npc_div{{forloop.counter | mod_calc}}')
                $('<h5 style="text-align:center"> {{npc.get_name}} </h5>').appendTo('#{{npc.get_name}}')
                //$('<p style="text-align:center"> {{npc.get_emotion}} </p>').appendTo('#{{npc.get_name}}')
                //$('<p style="text-align:center"> {{npc.get_action}} </p>').appendTo('#{{npc.get_name}}') 
                $("<img src={{ npc.get_emotion | get_emotion_image}} style='display:block; margin-left:auto; margin-right:auto'/>").appendTo('#{{npc.get_name}}')
            {% endfor %}
        }

        $('document').ready(function(){
            set_npc_list()
        });
    </script>
{% endblock js %}



