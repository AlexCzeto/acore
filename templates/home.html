{% extends '_layouts/base.html' %}


{% block page_title %} <h2>The Game</h2> {% endblock page_title %}

{% block css %}

.game_input{
    width:100%;
}

{% endblock css %}

{% block page_content %} 

    <!-- This half is the game -->
    <div class="col-sm-8">
            <h3 style="text-align:center"> The Game Side </h3>
            <strong><p id="last_move"> </p></strong>
            <div class="well" id="game_text"> Game text prompts </div>
            <div class="col-sm-2"> </div>
            <div class="col-sm-8">
                <div class='col-sm-3'><button type="button" class="btn btn-success game_input" > A</button> </div>
                <div class="col-sm-3"><button type="button" class="btn btn-primary game_input" > B </button> </div>
                <div class="col-sm-3"><button type="button" class="btn btn-warning game_input" > C </button> </div>
                <div class="col-sm-3"><button type="button" class="btn btn-danger game_input" >  D </button> </div>
            </div>

    </div>

    <!-- This half displays the NPCs -->
    <div class="col-sm-4">
        <h3 style="text-align:center"> NPCs </h3>
            <!-- Add forloop here for each npc -->
        <h4> Current NPCs </h4>
        <div class="alert alert-success" id="npc_1"> 
            <h5 style="margin-top:-1em" class="npc_name"> NPC NAME 1 </h5>
            <p class="npc_emotion"> Emotion: SAD </p>
            <p class="npc_action"> Next Action: Move in line </p>
        </div>
        <div class="alert alert-success" id="npc_3"> 
            <h5 style="margin-top:-1em" class="npc_name"> NPC NAME 2 </h5>
            <p class="npc_emotion"> Emotion: HAPPY </p>
            <p class="npc_action"> Next Action: PASSIVE </p>
        </div>
        <div class="alert alert-success" id="npc_5">
                <h5 style="margin-top:-1em" class="npc_name"> NPC NAME 3 </h5>
                <p class="npc_emotion"> Emotion: ANXIOUS </p>
                <p class="npc_action"> Next Action: STOP ANYONE FROM MOVING </p>
        </div>


    </div>

{% endblock page_content %}




{% block js %}
    <script>
        // make this function work.... please
        function update_last_move($button_pressed){
            var $last_move = $('#last_move')
            var button_text = $button_pressed.text()
            $last_move.html('Last move: ' + button_text)
        }


        function update_game_text($button_pressed){
            var $game_text = $('#game_text')
            var new_text = $button_pressed.text()
            $game_text.text($game_text.text() + new_text)
        }


        $('document').ready(function(){
            $('.game_input').click(function(){
                update_last_move($(this))
                update_game_text($(this))
            });
            
        });
    </script>
{% endblock js %}



